apply plugin: 'base'
apply plugin: 'groovy'
apply plugin: 'java'
apply plugin: 'application'

mkdir buildDir

wrapper {
    distributionType = Wrapper.DistributionType.ALL
    gradleVersion = "4.10.2"
}

task toa () {
  doLast {
    def toa = new ToaRestClient()
    println (toa.get("event/1819-FIM-Q4/matches"))
    println (toa.get("event/1819-FIM-Q4/matches/details"))

  }
}

task tba_event () {
  doLast {
    def tbaProcessor = new TbaEventProcessor(buildDir.toString())
    def tba = new TbaRestClient()
    tba.getEvents("2018fim").each { event ->
      tbaProcessor.process(event.key)
    }
  }
}

task tba_test () {
  doLast {
    def tba = new TbaRestClient()
    println (tba.get ("event/2018mimil/matches"))
  }
}

task tba_listEvents () {
  doLast {
    def tba = new TbaRestClient()
    //println (tba.getDistricts())
    tba.getEvents("2019fim").each { event ->
      println (event.key)
    }
  }
}
