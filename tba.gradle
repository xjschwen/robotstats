def dataDirTba = "${buildDir.toString()}/data/tba"

task makeTbaDataDir () {
  doLast {
    mkdir dataDirTba
  }
}

task tba (type: JavaExec) {
 group "FRC - The TroBots"
  description "Testing only for various parts of the software "
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.AllEventsOprWrapper'
  //   directory, filerString... can be regex
  // args dataDirTba, "2018_allTeams.csv"
  args dataDirTba, "2019"
}

task tba_oprevent (type: JavaExec) {
 group "FRC - The TroBots"
  description "Calculates all OPRS for the given Event"
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.EventOprWrapper'
  args dataDirTba + "/2019week0_Merrimack.csv"
}

task tba_oprallevents (type: JavaExec) {
 group "FRC - The TroBots"
  description "Calculates all OPRS for the given Event"
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.AllEventsOprWrapper'
  args dataDirTba, /.*\.csv/
}

task tba_pullevent (type: JavaExec) {
  group "FRC - The TroBots"
  description "Pulls data for a one event for this season."
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.GetAllEventData'
  // args [0] = directory to write the cvs file
  // args [1] = filter for event key to write.
  args dataDirTba, "2019week0"
}

task tba_pullallevents (type: JavaExec) {
  group "FRC - The TroBots"
  description "Pulls data for a all events for this season."
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.GetAllEventData'
  // args [0] = directory to write the cvs file
  // args [1] = filter for event key to write.
  args dataDirTba, "2019mi"
}


task tba_listEvents (type: JavaExec) {
  group "FRC - The TroBots"
  description "Prints Event Keys for this season."
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.ListEvents'
  // args [0] = Year
  // args [1] = filter

  args "2019", "2019mi"

}
