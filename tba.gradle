def dataDirTba = "${buildDir.toString()}/data/tba"

task makeTbaDataDir () {
  doLast {
    mkdir dataDirTba
  }
}

task tba (type: JavaExec) {
 group "FRC - The TroBots"
  description "Testing only for various parts of the software "
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.AllEventsOprWrapper'
  //   directory, filerString... can be regex
  // args dataDirTba, "2018_allTeams.csv"
  args dataDirTba, "2018"
}

task tba_opr_events (type: JavaExec) {
 group "FRC - The TroBots"
  description "Calculates the OPR data for all data sets"
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.AllEventsOprWrapper'
  //   directory, filerString... can be regex
  // args dataDirTba, "2018_allTeams.csv"
  args dataDirTba, "2018mi"
}

task tba_opr_event (type: JavaExec) {
 group "FRC - The TroBots"
  description "Calculates the OPR data for the one defined data set"
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.common.AllEventsOprWrapper'
  //   directory, filerString... can be regex
  // args dataDirTba, "2018_allTeams.csv"
  args dataDirTba, "2018mimar"
}

task tba_pull_event (type: JavaExec) {
  group "FRC - The TroBots"
  description "Pulls data for a one event for this season."
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.GetAllEventData'
  // args [0] = directory to write the cvs file
  // args [1] = filter for event key to write.
  args dataDirTba, "2019mimar"
}

task tba_pull_events (type: JavaExec) {
  group "FRC - The TroBots"
  description "Pulls data for a all events for this season."
  dependsOn makeTbaDataDir
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.GetAllEventData'
  // args [0] = directory to write the cvs file
  // args [1] = filter for event key to write.
  args dataDirTba, "2018mi"
}

task tba_listEvents (type: JavaExec) {
  group "FRC - The TroBots"
  description "Prints Event Keys for this season."
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.wlrobotics.tba.ListEvents'
  // args [0] = Year
  // args [1] = filter 
  args "2018", "2018mi"
}


